- creator: 1
  credentials: device
  description: Start point of a workflow
  devices: []
  has_targets: null
  id: 1
  multiprocessing: false
  name: Start
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id001 !!python/tuple
      - -200
      - 0
      Netmiko_VRF_workflow: &id002 !!python/tuple
      - -200
      - 0
      payload_transfer_workflow: &id003 !!python/tuple
      - -200
      - 0
    state:
      Napalm_VRF_workflow: *id001
      Netmiko_VRF_workflow: *id002
      payload_transfer_workflow: *id003
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: End point of a workflow
  devices: []
  has_targets: null
  id: 2
  multiprocessing: false
  name: End
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id004 !!python/tuple
      - 200
      - 0
      Netmiko_VRF_workflow: &id005 !!python/tuple
      - 200
      - 0
      payload_transfer_workflow: &id006 !!python/tuple
      - 500
      - 0
    state:
      Napalm_VRF_workflow: *id004
      Netmiko_VRF_workflow: *id005
      payload_transfer_workflow: *id006
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: Mail notification (service logs)
  devices: []
  has_targets: null
  id: 3
  multiprocessing: false
  name: mail_feedback_notification
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: Slack notification (service logs)
  devices: []
  has_targets: null
  id: 4
  multiprocessing: false
  name: slack_feedback_notification
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: Mattermost notification (service logs)
  devices: []
  has_targets: null
  id: 5
  multiprocessing: false
  name: mattermost_feedback_notification
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: Configure BGP Peering with Napalm
  devices:
  - 4
  id: 6
  local_as: 100
  loopback: Lo100
  loopback_ip: 100.1.1.1
  multiprocessing: false
  name: napalm_configure_bgp_1
  neighbor_ip: 100.1.2.1
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  remote_as: 200
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: ConfigureBgpService
  vendor: null
  vrf_name: configure_BGP_test
  waiting_time: 0
- creator: 1
  credentials: device
  description: Test the file transfer service
  destination_file: /media/sf_VM/eNMS/tests/file_transfer/b.bin
  devices:
  - 28
  direction: get
  id: 7
  load_known_host_keys: null
  look_for_keys: null
  missing_host_key_policy: true
  multiprocessing: false
  name: test_file_transfer_service
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  protocol: scp
  send_notification: false
  send_notification_method: mail_feedback_notification
  source_file: /media/sf_VM/eNMS/tests/file_transfer/a.bin
  status: Idle
  time_between_retries: 10
  type: GenericFileTransferService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  delete_archive: true
  delete_folder: true
  description: Test the log backup service
  destination_path: /media/sf_VM/eNMS/tests/file_transfer
  devices:
  - 28
  id: 8
  multiprocessing: false
  name: test_log_backup_service
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  protocol: scp
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: LogBackupService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  delete_archive: true
  delete_folder: true
  description: Test the log backup service
  destination_path: /media/sf_VM/eNMS/tests/file_transfer
  devices:
  - 28
  id: 9
  multiprocessing: false
  name: test_database_backup_service
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  protocol: scp
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: DatabaseBackupService
  vendor: null
  waiting_time: 0
- content: vrf definition test
  creator: 1
  credentials: device
  description: Create a VRF "test" with Netmiko
  devices:
  - 4
  driver: arista_eos
  enable_mode: true
  fast_cli: true
  global_delay_factor: 1.0
  id: 10
  multiprocessing: false
  name: netmiko_create_vrf_test
  number_of_retries: 0
  operating_system: eos
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Netmiko_VRF_workflow: &id007 !!python/tuple
      - 0
      - -150
    state:
      Netmiko_VRF_workflow: *id007
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  timeout: 3
  type: NetmikoConfigurationService
  vendor: Arista
  waiting_time: 0
- command: show vrf
  content_match: test
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: Check that the vrf "test" is configured
  devices:
  - 4
  driver: arista_eos
  fast_cli: true
  global_delay_factor: 1.0
  id: 11
  multiprocessing: false
  name: netmiko_check_vrf_test
  negative_logic: null
  number_of_retries: 0
  operating_system: eos
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id008 !!python/tuple
      - 0
      - -50
      Netmiko_VRF_workflow: &id009 !!python/tuple
      - 0
      - -50
    state:
      Napalm_VRF_workflow: *id008
      Netmiko_VRF_workflow: *id009
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  timeout: 3
  type: NetmikoValidationService
  vendor: Arista
  waiting_time: 0
- content: no vrf definition test
  creator: 1
  credentials: device
  description: Delete VRF "test"
  devices:
  - 4
  driver: arista_eos
  enable_mode: true
  fast_cli: true
  global_delay_factor: 5.0
  id: 12
  multiprocessing: false
  name: netmiko_delete_vrf_test
  number_of_retries: 5
  operating_system: eos
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Netmiko_VRF_workflow: &id010 !!python/tuple
      - 0
      - 50
    state:
      Netmiko_VRF_workflow: *id010
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 5
  timeout: 5
  type: NetmikoConfigurationService
  vendor: Arista
  waiting_time: 5
- command: show vrf
  content_match: ^((?!test)[\s\S])*$
  content_match_regex: true
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: Check that the vrf "test" is NOT configured
  devices:
  - 4
  driver: arista_eos
  fast_cli: true
  global_delay_factor: 1.0
  id: 13
  multiprocessing: false
  name: netmiko_check_no_vrf_test
  negative_logic: null
  number_of_retries: 2
  operating_system: eos
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id011 !!python/tuple
      - 0
      - 150
      Netmiko_VRF_workflow: &id012 !!python/tuple
      - 0
      - 150
    state:
      Napalm_VRF_workflow: *id011
      Netmiko_VRF_workflow: *id012
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 1
  timeout: 3
  type: NetmikoValidationService
  vendor: Arista
  waiting_time: 0
- action: load_merge_candidate
  content: 'vrf definition test

    '
  creator: 1
  credentials: device
  description: Create a VRF "test" with Napalm
  devices:
  - 4
  driver: eos
  id: 15
  multiprocessing: false
  name: napalm_create_vrf_test
  number_of_retries: 0
  operating_system: eos
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id013 !!python/tuple
      - 0
      - -150
    state:
      Napalm_VRF_workflow: *id013
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmConfigurationService
  vendor: Arista
  waiting_time: 0
- creator: 1
  credentials: device
  description: Rollback a configuration with Napalm eos
  devices:
  - 4
  driver: eos
  id: 16
  multiprocessing: false
  name: Napalm eos Rollback
  number_of_retries: 0
  operating_system: null
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      Napalm_VRF_workflow: &id014 !!python/tuple
      - 0
      - 50
    state:
      Napalm_VRF_workflow: *id014
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmRollbackService
  vendor: null
  waiting_time: 0
- call_type: GET
  content_match: ''
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: Use GET ReST call on eNMS ReST API
  devices:
  - 4
  has_targets: null
  headers: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  id: 18
  multiprocessing: true
  name: GET_device
  negative_logic: null
  number_of_retries: 0
  operating_system: null
  params: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  payload: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id015 !!python/tuple
      - -50
      - 0
    state:
      payload_transfer_workflow: *id015
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  timeout: 15.0
  type: RestCallService
  url: http://127.0.0.1:5000/rest/object/device/{{device.name}}
  username: admin
  vendor: null
  waiting_time: 0
- content_match: ''
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: 'Getter: get_facts'
  devices:
  - 4
  driver: eos
  getters: !!python/object/new:sqlalchemy.ext.mutable.MutableList
    listitems:
    - get_facts
    state:
    - get_facts
  id: 19
  multiprocessing: false
  name: get_facts
  negative_logic: null
  number_of_retries: 0
  operating_system: null
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id016 !!python/tuple
      - -50
      - -100
    state:
      payload_transfer_workflow: *id016
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmGettersService
  vendor: null
  waiting_time: 0
- content_match: ''
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: 'Getter: get_interfaces'
  devices:
  - 4
  driver: eos
  getters: !!python/object/new:sqlalchemy.ext.mutable.MutableList
    listitems:
    - get_interfaces
    state:
    - get_interfaces
  id: 20
  multiprocessing: false
  name: get_interfaces
  negative_logic: null
  number_of_retries: 0
  operating_system: null
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id017 !!python/tuple
      - 150
      - 100
    state:
      payload_transfer_workflow: *id017
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmGettersService
  vendor: null
  waiting_time: 0
- content_match: ''
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: 'Getter: get_interfaces_ip'
  devices:
  - 4
  driver: eos
  getters: !!python/object/new:sqlalchemy.ext.mutable.MutableList
    listitems:
    - get_interfaces_ip
    state:
    - get_interfaces_ip
  id: 21
  multiprocessing: false
  name: get_interfaces_ip
  negative_logic: null
  number_of_retries: 0
  operating_system: null
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id018 !!python/tuple
      - 150
      - -100
    state:
      payload_transfer_workflow: *id018
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmGettersService
  vendor: null
  waiting_time: 0
- content_match: ''
  content_match_regex: null
  creator: 1
  credentials: device
  delete_spaces_before_matching: null
  description: 'Getter: get_config'
  devices:
  - 4
  driver: eos
  getters: !!python/object/new:sqlalchemy.ext.mutable.MutableList
    listitems:
    - get_config
    state:
    - get_config
  id: 22
  multiprocessing: false
  name: get_config
  negative_logic: null
  number_of_retries: 0
  operating_system: null
  optional_args: !!python/object:sqlalchemy.ext.mutable.MutableDict {}
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id019 !!python/tuple
      - 300
      - -100
    state:
      payload_transfer_workflow: *id019
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: NapalmGettersService
  vendor: null
  waiting_time: 0
- creator: 1
  credentials: device
  description: Process Payload in example workflow
  devices:
  - 4
  has_targets: null
  id: 23
  multiprocessing: false
  name: process_payload1
  number_of_retries: 0
  operating_system: null
  pools: []
  positions: !!python/object/new:sqlalchemy.ext.mutable.MutableDict
    dictitems:
      payload_transfer_workflow: &id020 !!python/tuple
      - 300
      - 0
    state:
      payload_transfer_workflow: *id020
  send_notification: false
  send_notification_method: mail_feedback_notification
  status: Idle
  time_between_retries: 10
  type: SwissArmyKnifeService
  vendor: null
  waiting_time: 0
